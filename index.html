<!doctype html>
<head><meta charset="utf-8">
<link rel="shortcut icon" href="https://tc39.github.io/ecma262/img/favicon.ico">
<link rel="stylesheet" href="ecmarkup.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script src="ecmarkup.js"></script>
<title>Function.prototype.toString revision</title><script type="application/json" id="menu-search-biblio">[{"type":"clause","id":"","aoid":null,"title":"Introduction","number":"","namespace":"<no location>","location":"","key":"Introduction"},{"type":"clause","id":"sec-algorithm-conventions","aoid":null,"title":"(5.2) Algorithm Conventions","number":"1","namespace":"<no location>","location":"","key":"(5.2) Algorithm Conventions"},{"type":"clause","id":"sec-ecmascript-function-objects","aoid":null,"title":"(9.2) ECMAScript Function Objects","number":"2","namespace":"<no location>","location":"","key":"(9.2) ECMAScript Function Objects"},{"type":"clause","id":"sec-function-definitions-runtime-semantics-instantiatefunctionobject","aoid":null,"title":"(14.1.19) Runtime Semantics: InstantiateFunctionObject","number":"3","namespace":"<no location>","location":"","key":"(14.1.19) Runtime Semantics: InstantiateFunctionObject"},{"type":"clause","id":"sec-function-definitions-runtime-semantics-evaluation","aoid":null,"title":"(14.1.20) Runtime Semantics: Evaluation","number":"4","namespace":"<no location>","location":"","key":"(14.1.20) Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-arrow-function-definitions-runtime-semantics-evaluation","aoid":null,"title":"(14.2.16) Runtime Semantics: Evaluation","number":"5","namespace":"<no location>","location":"","key":"(14.2.16) Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-runtime-semantics-definemethod","aoid":null,"title":"(14.3.8) Runtime Semantics: DefineMethod","number":"6","namespace":"<no location>","location":"","key":"(14.3.8) Runtime Semantics: DefineMethod"},{"type":"clause","id":"sec-method-definitions-runtime-semantics-propertydefinitionevaluation","aoid":null,"title":"(14.3.9) Runtime Semantics: PropertyDefinitionEvaluation","number":"7","namespace":"<no location>","location":"","key":"(14.3.9) Runtime Semantics: PropertyDefinitionEvaluation"},{"type":"clause","id":"sec-generator-function-definitions-runtime-semantics-instantiatefunctionobject","aoid":null,"title":"(14.4.12) Runtime Semantics: InstantiateFunctionObject","number":"8","namespace":"<no location>","location":"","key":"(14.4.12) Runtime Semantics: InstantiateFunctionObject"},{"type":"clause","id":"sec-generator-function-definitions-runtime-semantics-propertydefinitionevaluation","aoid":null,"title":"(14.4.13) Runtime Semantics: PropertyDefinitionEvaluation","number":"9","namespace":"<no location>","location":"","key":"(14.4.13) Runtime Semantics: PropertyDefinitionEvaluation"},{"type":"clause","id":"sec-generator-function-definitions-runtime-semantics-evaluation","aoid":null,"title":"(14.4.14) Runtime Semantics: Evaluation","number":"10","namespace":"<no location>","location":"","key":"(14.4.14) Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-runtime-semantics-bindingclassdeclarationevaluation","aoid":null,"title":"(14.5.15) Runtime Semantics: BindingClassDeclarationEvaluation","number":"11","namespace":"<no location>","location":"","key":"(14.5.15) Runtime Semantics: BindingClassDeclarationEvaluation"},{"type":"clause","id":"sec-class-definitions-runtime-semantics-evaluation","aoid":null,"title":"(14.5.16) Runtime Semantics: Evaluation","number":"12","namespace":"<no location>","location":"","key":"(14.5.16) Runtime Semantics: Evaluation"},{"type":"op","aoid":"CreateDynamicFunction","refId":"sec-createdynamicfunction","location":"","key":"CreateDynamicFunction"},{"type":"clause","id":"sec-createdynamicfunction","aoid":"CreateDynamicFunction","title":"(19.2.1.1.1) Runtime Semantics: CreateDynamicFunction(_constructor_, _newTarget_, _kind_, _args_)","number":"13","namespace":"<no location>","location":"","key":"(19.2.1.1.1) Runtime Semantics: CreateDynamicFunction(_constructor_, _newTarget_, _kind_, _args_)"},{"type":"clause","id":"sec-function.prototype.tostring","aoid":null,"title":"(19.2.3.5) Function.prototype.toString()","number":"14","namespace":"<no location>","location":"","key":"(19.2.3.5) Function.prototype.toString()"},{"type":"clause","id":"sec-%throwtypeerror%","aoid":null,"title":"(9.2.7.1) %ThrowTypeError% ( )","number":"15","namespace":"<no location>","location":"","key":"(9.2.7.1) %ThrowTypeError% ( )"},{"type":"clause","id":"sec-copyright-and-software-license","aoid":null,"title":"Copyright & Software License","number":"A","namespace":"<no location>","location":"","key":"Copyright & Software License"},{"type":"op","aoid":"abs","refId":"sec-algorithm-conventions","namespace":"<no location>","location":"","key":"abs"},{"type":"op","aoid":"min","refId":"sec-algorithm-conventions","namespace":"<no location>","location":"","key":"min"},{"type":"op","aoid":"max","refId":"sec-algorithm-conventions","namespace":"<no location>","location":"","key":"max"},{"type":"op","aoid":"modulo","refId":"sec-algorithm-conventions","namespace":"<no location>","location":"","key":"modulo"},{"type":"op","aoid":"floor","refId":"sec-algorithm-conventions","namespace":"<no location>","location":"","key":"floor"},{"type":"production","id":"prod-Block","name":"Block","namespace":"<no location>","location":"","key":"Block"},{"type":"production","id":"prod-FunctionDeclaration","name":"FunctionDeclaration","namespace":"<no location>","location":"","key":"FunctionDeclaration"},{"type":"production","id":"prod-FunctionExpression","name":"FunctionExpression","namespace":"<no location>","location":"","key":"FunctionExpression"},{"type":"production","id":"prod-FunctionStatementList","name":"FunctionStatementList","namespace":"<no location>","location":"","key":"FunctionStatementList"},{"type":"production","id":"prod-ArrowFunction","name":"ArrowFunction","namespace":"<no location>","location":"","key":"ArrowFunction"},{"type":"production","id":"prod-MethodDefinition","name":"MethodDefinition","namespace":"<no location>","location":"","key":"MethodDefinition"},{"type":"production","id":"prod-FormalParameters","name":"FormalParameters","namespace":"<no location>","location":"","key":"FormalParameters"},{"type":"production","id":"prod-GeneratorDeclaration","name":"GeneratorDeclaration","namespace":"<no location>","location":"","key":"GeneratorDeclaration"},{"type":"production","id":"prod-GeneratorMethod","name":"GeneratorMethod","namespace":"<no location>","location":"","key":"GeneratorMethod"},{"type":"production","id":"prod-GeneratorExpression","name":"GeneratorExpression","namespace":"<no location>","location":"","key":"GeneratorExpression"},{"type":"production","id":"prod-ClassDeclaration","name":"ClassDeclaration","namespace":"<no location>","location":"","key":"ClassDeclaration"},{"type":"production","id":"prod-ClassExpression","name":"ClassExpression","namespace":"<no location>","location":"","key":"ClassExpression"},{"type":"production","id":"prod-StrictFormalParameters","name":"StrictFormalParameters","namespace":"<no location>","location":"","key":"StrictFormalParameters"},{"type":"production","id":"prod-NativeFunction","name":"NativeFunction","namespace":"<no location>","location":"","key":"NativeFunction"},{"type":"table","id":"table-27","number":1,"caption":"Table 1: Internal Slots of ECMAScript Function Objects","namespace":"<no location>","location":"","key":"Table 1: Internal Slots of ECMAScript Function Objects"},{"type":"term","term":"source text matched by","refId":"sec-algorithm-conventions","namespace":"<no location>","location":"","key":"source text matched by"},{"type":"term","term":"%ThrowTypeError%","refId":"sec-%throwtypeerror%","namespace":"<no location>","location":"","key":"%ThrowTypeError%"}]</script></head><body><div id="menu-toggle">☰</div><div id="menu"><div id="menu-search"><input type="text" id="menu-search-box" placeholder="Search..."><div id="menu-search-results" class="inactive"></div></div><div id="menu-toc"><ol class="toc"><li><span class="item-toggle-none"></span><a href="#" title="Introduction"><span class="secnum"></span> Introduction</a></li><li><span class="item-toggle-none"></span><a href="#sec-algorithm-conventions" title="(5.2) Algorithm Conventions"><span class="secnum">1</span> (5.2) Algorithm Conventions</a></li><li><span class="item-toggle-none"></span><a href="#sec-ecmascript-function-objects" title="(9.2) ECMAScript Function Objects"><span class="secnum">2</span> (9.2) ECMAScript Function Objects</a></li><li><span class="item-toggle-none"></span><a href="#sec-function-definitions-runtime-semantics-instantiatefunctionobject" title="(14.1.19) Runtime Semantics: InstantiateFunctionObject"><span class="secnum">3</span> (14.1.19) RS: InstantiateFunctionObject</a></li><li><span class="item-toggle-none"></span><a href="#sec-function-definitions-runtime-semantics-evaluation" title="(14.1.20) Runtime Semantics: Evaluation"><span class="secnum">4</span> (14.1.20) RS: Evaluation</a></li><li><span class="item-toggle-none"></span><a href="#sec-arrow-function-definitions-runtime-semantics-evaluation" title="(14.2.16) Runtime Semantics: Evaluation"><span class="secnum">5</span> (14.2.16) RS: Evaluation</a></li><li><span class="item-toggle-none"></span><a href="#sec-runtime-semantics-definemethod" title="(14.3.8) Runtime Semantics: DefineMethod"><span class="secnum">6</span> (14.3.8) RS: DefineMethod</a></li><li><span class="item-toggle-none"></span><a href="#sec-method-definitions-runtime-semantics-propertydefinitionevaluation" title="(14.3.9) Runtime Semantics: PropertyDefinitionEvaluation"><span class="secnum">7</span> (14.3.9) RS: PropertyDefinitionEvaluation</a></li><li><span class="item-toggle-none"></span><a href="#sec-generator-function-definitions-runtime-semantics-instantiatefunctionobject" title="(14.4.12) Runtime Semantics: InstantiateFunctionObject"><span class="secnum">8</span> (14.4.12) RS: InstantiateFunctionObject</a></li><li><span class="item-toggle-none"></span><a href="#sec-generator-function-definitions-runtime-semantics-propertydefinitionevaluation" title="(14.4.13) Runtime Semantics: PropertyDefinitionEvaluation"><span class="secnum">9</span> (14.4.13) RS: PropertyDefinitionEvaluation</a></li><li><span class="item-toggle-none"></span><a href="#sec-generator-function-definitions-runtime-semantics-evaluation" title="(14.4.14) Runtime Semantics: Evaluation"><span class="secnum">10</span> (14.4.14) RS: Evaluation</a></li><li><span class="item-toggle-none"></span><a href="#sec-runtime-semantics-bindingclassdeclarationevaluation" title="(14.5.15) Runtime Semantics: BindingClassDeclarationEvaluation"><span class="secnum">11</span> (14.5.15) RS: BindingClassDeclarationEvaluation</a></li><li><span class="item-toggle-none"></span><a href="#sec-class-definitions-runtime-semantics-evaluation" title="(14.5.16) Runtime Semantics: Evaluation"><span class="secnum">12</span> (14.5.16) RS: Evaluation</a></li><li><span class="item-toggle-none"></span><a href="#sec-createdynamicfunction" title="(19.2.1.1.1) Runtime Semantics: CreateDynamicFunction(_constructor_, _newTarget_, _kind_, _args_)"><span class="secnum">13</span> (19.2.1.1.1) RS: CreateDynamicFunction(<var>constructor</var>, <var>newTarget</var>, <var>kind</var>, <var>args</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-function.prototype.tostring" title="(19.2.3.5) Function.prototype.toString()"><span class="secnum">14</span> (19.2.3.5) Function.prototype.toString()</a></li><li><span class="item-toggle-none"></span><a href="#sec-%throwtypeerror%" title="(9.2.7.1) %ThrowTypeError% ( )"><span class="secnum">15</span> (9.2.7.1) %ThrowTypeError% ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-copyright-and-software-license" title="Copyright &amp; Software License"><span class="secnum">A</span> Copyright &amp; Software License</a></li></ol></div></div><h1 class="version">Stage 3 Draft / January 22, 2017</h1><h1 class="title">Function.prototype.toString revision</h1>


<emu-intro>
  <h1><span class="secnum"></span>Introduction<span class="utils"><span class="anchor"><a href="#">#</a></span></span></h1>
  <h2>Goals</h2>

  <p>The original goals of this proposal were</p>

  <ul>
    <li>
      remove the forward-incompatible requirement
      
      <blockquote>
        If the implementation cannot produce a source code string that meets these criteria then it must return a string for which <code>eval</code> will throw a <emu-val>SyntaxError</emu-val> exception.
      
      </blockquote>
    </li><li>clarify the "functionally equivalent" requirement
    
    </li><li>standardise the string representation of built-in functions and host objects
    
    </li><li>clarify requirement of representation based on the "actual characteristics" of an object
  
  </li></ul>

  <p>The goals were later revised to include</p>

  <ul>
    <li>ensure that the string's parse contains the same function body and parameter list as the original
  
  </li></ul>

  <p>The goals were revised again to include</p>

  <ul>
    <li>for functions defined using ECMAScript code, <code>toString</code> must return source text slice from beginning of first token to end of last token matched by the appropriate grammar production
    
    </li><li>for built-in function objects and <emu-xref href="#sec-bound-function-exotic-objects"><a href="https://tc39.github.io/ecma262/#sec-bound-function-exotic-objects">bound function</a></emu-xref> exotic objects, <code>toString</code> must not return anything other than <emu-nt><a href="#prod-NativeFunction">NativeFunction</a></emu-nt>
    
    </li><li>for callable objects which were not defined using ECMAScript code, <code>toString</code> must return <emu-nt><a href="#prod-NativeFunction">NativeFunction</a></emu-nt>
    
    </li><li>for functions created dynamically (through the <emu-val>Function</emu-val> and <emu-val>GeneratorFunction</emu-val> constructors), <code>toString</code> must synthesise a source text
    
    </li><li>for all other objects, <code>toString</code> must throw a <emu-val>TypeError</emu-val> exception
  
  </li></ul>
</emu-intro>


<!-- es6num="5.2" -->
<emu-clause id="sec-algorithm-conventions">
  <h1><span class="secnum">1</span>(<a href="http://tc39.github.io/ecma262/#sec-algorithm-conventions">5.2</a>) Algorithm Conventions<span class="utils"><span class="anchor"><a href="#sec-algorithm-conventions">#</a></span></span></h1>
  <p>The specification often uses a numbered list to specify steps in an algorithm. These algorithms are used to precisely specify the required semantics of ECMAScript language constructs. The algorithms are not intended to imply the use of any specific implementation technique. In practice, there may be more efficient algorithms available to implement a given feature.</p>
  <p>Algorithms may be explicitly parameterized, in which case the names and usage of the parameters must be provided as part of the algorithm's definition. In order to facilitate their use in multiple parts of this specification, some algorithms, called  <em>abstract operations</em>, are named and written in parameterized functional form so that they may be referenced by name from within other algorithms. Abstract operations are typically referenced using a functional application style such as operationName(<var>arg1</var>, <var>arg2</var>). Some abstract operations are treated as polymorphically dispatched methods of class-like specification abstractions. Such method-like abstract operations are typically referenced using a method application style such as <var>someValue</var>.operationName(<var>arg1</var>, <var>arg2</var>).</p>
  <p>Calls to abstract operations return <emu-xref aoid="Completion"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">Completion</a></emu-xref> Records. Abstract operations referenced using the functional application style and the method application style that are prefixed by <code>?</code> indicate that <emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref> should be applied to the resulting <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">Completion Record</a></emu-xref>. For example, ? operationName() is equivalent to <emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(operationName()). Similarly, ? <var>someValue</var>.operationName() is equivalent to <emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>someValue</var>.operationName()).</p>
  <p>The prefix <code>!</code> is used to indicate that an abstract operation will never return an <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">abrupt completion</a></emu-xref> and that the resulting <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">Completion Record</a></emu-xref>'s value field should be used in place of the return value of the operation. For example, “Let <var>val</var> be ! operationName()” is equivalent to the following algorithm steps:</p>
  <emu-alg><ol><li>Let <var>val</var> be operationName().</li><li>Assert: <var>val</var> is never an <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">abrupt completion</a></emu-xref>.</li><li>If <var>val</var> is a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">Completion Record</a></emu-xref>, let <var>val</var> be <var>val</var>.[[Value]].
  </li></ol></emu-alg>
  <p>Algorithms may be associated with productions of one of the ECMAScript grammars. A production that has multiple alternative definitions will typically have a distinct algorithm for each alternative. When an algorithm is associated with a grammar production, it may reference the terminal and nonterminal symbols of the production alternative as if they were parameters of the algorithm. When used in this manner, nonterminal symbols refer to the actual alternative definition that is matched when parsing the source text.  <ins> The  <dfn>source text matched by</dfn> a grammar production is the portion of the source text that starts at the beginning of the first terminal that participated in the match and ends at the end of the last terminal that participated in the match.</ins></p>
  <p>When an algorithm is associated with a production alternative, the alternative is typically shown without any “[ ]” grammar annotations. Such annotations should only affect the syntactic recognition of the alternative and have no effect on the associated semantics for the alternative.</p>
  <p>Unless explicitly specified otherwise, all chain productions have an implicit definition for every algorithm that might be applied to that production's left-hand side nonterminal. The implicit definition simply reapplies the same algorithm name with the same parameters, if any, to the <emu-xref href="#sec-context-free-grammars"><a href="https://tc39.github.io/ecma262/#sec-context-free-grammars">chain production</a></emu-xref>'s sole right-hand side nonterminal and then returns the result. For example, assume there is a production:</p>
  <emu-grammar><emu-production name="Block" id="prod-Block">
    <emu-nt><a href="#prod-Block">Block</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="6782c9a7"><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-StatementList">StatementList</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <p>but there is no corresponding Evaluation algorithm that is explicitly specified for that production. If in some algorithm there is a statement of the form: “Return the result of evaluating <emu-nt><a href="#prod-Block">Block</a></emu-nt>” it is implicit that an Evaluation algorithm exists of the form:</p>
  <p><b>Runtime Semantics: Evaluation</b></p>
  <emu-grammar><emu-production name="Block" collapsed="">
    <emu-nt><a href="#prod-Block">Block</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="6782c9a7"><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-StatementList">StatementList</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Return the result of evaluating <emu-nt><a href="https://tc39.github.io/ecma262/#prod-StatementList">StatementList</a></emu-nt>.
  </li></ol></emu-alg>
  <p>For clarity of expression, algorithm steps may be subdivided into sequential substeps. Substeps are indented and may themselves be further divided into indented substeps. Outline numbering conventions are used to identify substeps with the first level of substeps labelled with lower case alphabetic characters and the second level of substeps labelled with lower case roman numerals. If more than three levels are required these rules repeat with the fourth level using numeric labels. For example:</p>
  <emu-alg><ol><li>Top-level step<ol><li>Substep.</li><li>Substep.<ol><li>Subsubstep.<ol><li>Subsubsubstep<ol><li>Subsubsubsubstep<ol><li>Subsubsubsubsubstep
  </li></ol></li></ol></li></ol></li></ol></li></ol></li></ol></emu-alg>
  <p>A step or substep may be written as an “if” predicate that conditions its substeps. In this case, the substeps are only applied if the predicate is true. If a step or substep begins with the word “else”, it is a predicate that is the negation of the preceding “if” predicate step at the same level.</p>
  <p>A step may specify the iterative application of its substeps.</p>
  <p>A step that begins with “Assert:” asserts an invariant condition of its algorithm. Such assertions are used to make explicit algorithmic invariants that would otherwise be implicit. Such assertions add no additional semantic requirements and hence need not be checked by an implementation. They are used simply to clarify algorithms.</p>
  <p>Mathematical operations such as addition, subtraction, negation, multiplication, division, and the mathematical functions defined later in this clause should always be understood as computing exact mathematical results on mathematical real numbers, which unless otherwise noted do not include infinities and do not include a negative zero that is distinguished from positive zero. Algorithms in this standard that model floating-point arithmetic include explicit steps, where necessary, to handle infinities and signed zero and to perform rounding. If a mathematical operation or function is applied to a floating-point number, it should be understood as being applied to the exact mathematical value represented by that floating-point number; such a floating-point number must be finite, and if it is <emu-val>+0</emu-val> or <emu-val>-0</emu-val> then the corresponding mathematical value is simply 0.</p>
  <p>The mathematical function  <emu-eqn aoid="abs" class="inline"><emu-xref aoid="abs"><a href="#sec-algorithm-conventions">abs</a></emu-xref>(<var>x</var>)</emu-eqn> produces the absolute value of <var>x</var>, which is  <emu-eqn class="inline">-<var>x</var></emu-eqn> if <var>x</var> is negative (less than zero) and otherwise is <var>x</var> itself.</p>
  <p>The mathematical function  <emu-eqn aoid="min" class="inline"><emu-xref aoid="min"><a href="#sec-algorithm-conventions">min</a></emu-xref>(<var>x1</var>, <var>x2</var>, ..., <var>xN</var>)</emu-eqn> produces the mathematically smallest of  <emu-eqn class="inline"><var>x1</var></emu-eqn> through  <emu-eqn class="inline"><var>xN</var></emu-eqn>. The mathematical function  <emu-eqn aoid="max" class="inline"><emu-xref aoid="max"><a href="#sec-algorithm-conventions">max</a></emu-xref>(<var>x1</var>, <var>x2</var>, ..., <var>xN</var>)</emu-eqn> produces the mathematically largest of  <emu-eqn class="inline"><var>x1</var></emu-eqn> through  <emu-eqn class="inline"><var>xN</var></emu-eqn>. The domain and range of these mathematical functions include <emu-val>+∞</emu-val> and <emu-val>-∞</emu-val>.</p>
  <p>The notation “<emu-eqn aoid="modulo" class="inline"><var>x</var> <emu-xref aoid="modulo"><a href="#sec-algorithm-conventions">modulo</a></emu-xref> <var>y</var></emu-eqn>” (<var>y</var> must be finite and nonzero) computes a value <var>k</var> of the same sign as <var>y</var> (or zero) such that  <emu-eqn class="inline"><emu-xref aoid="abs"><a href="#sec-algorithm-conventions">abs</a></emu-xref>(<var>k</var>) &lt; <emu-xref aoid="abs"><a href="#sec-algorithm-conventions">abs</a></emu-xref>(<var>y</var>) and <var>x</var>-<var>k</var> = <var>q</var> × <var>y</var></emu-eqn> for some integer <var>q</var>.</p>
  <p>The mathematical function  <emu-eqn aoid="floor" class="inline"><emu-xref aoid="floor"><a href="#sec-algorithm-conventions">floor</a></emu-xref>(<var>x</var>)</emu-eqn> produces the largest integer (closest to positive infinity) that is not larger than <var>x</var>.</p>
  <emu-note><span class="note">Note</span>
    <p><emu-eqn class="inline"><emu-xref aoid="floor"><a href="#sec-algorithm-conventions">floor</a></emu-xref>(<var>x</var>) = <var>x</var>-(<var>x</var> <emu-xref aoid="modulo"><a href="#sec-algorithm-conventions">modulo</a></emu-xref> 1)</emu-eqn>.</p>
  </emu-note>
</emu-clause>


<!-- 9.2 -->
<emu-clause id="sec-ecmascript-function-objects">
  <h1><span class="secnum">2</span>(<a href="http://tc39.github.io/ecma262/#sec-ecmascript-function-objects">9.2</a>) ECMAScript Function Objects<span class="utils"><span class="anchor"><a href="#sec-ecmascript-function-objects">#</a></span></span></h1>
  <p>ECMAScript function objects encapsulate parameterized ECMAScript code closed over a lexical environment and support the dynamic evaluation of that code. An ECMAScript function object is an ordinary object and has the same internal slots and the same internal methods as other ordinary objects. The code of an ECMAScript function object may be either <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref> (<emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">10.2.1</a></emu-xref>) or non-<emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>. An ECMAScript function object whose code is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref> is called a  <em>strict function</em>. One whose code is not <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref> is called a  <em>non-strict function</em>.</p>
  <p>ECMAScript function objects have the additional internal slots listed in  <emu-xref href="#table-27"><a href="#table-27">Table 1</a></emu-xref>.</p>
  <emu-table id="table-27" caption="Internal Slots of ECMAScript Function Objects"><figure><figcaption>Table 1: Internal Slots of ECMAScript Function Objects</figcaption>
    <table>
      <tbody>
      <tr><th>Internal Slot</th><th>Type</th><th>Description</th></tr>
      <tr><td>[[Environment]]</td><td><emu-xref href="#sec-lexical-environments"><a href="https://tc39.github.io/ecma262/#sec-lexical-environments">Lexical Environment</a></emu-xref></td><td>The <emu-xref href="#sec-lexical-environments"><a href="https://tc39.github.io/ecma262/#sec-lexical-environments">Lexical Environment</a></emu-xref> that the function was closed over. Used as the outer environment when evaluating the code of the function.</td></tr>
      <tr><td>[[FormalParameters]]</td><td>Parse Node</td><td>The root parse node of the source text that defines the function's formal parameter list.</td></tr>
      <tr><td>[[FunctionKind]]</td><td>String</td><td>Either <code>"normal"</code>, <code>"classConstructor"</code> or <code>"generator"</code>.</td></tr>
      <tr><td>[[ECMAScriptCode]]</td><td>Parse Node</td><td>The root parse node of the source text that defines the function's body.</td></tr>
      <tr><td>[[ConstructorKind]]</td><td>String</td><td>Either <code>"base"</code> or <code>"derived"</code>.</td></tr>
      <tr><td>[[Realm]]</td><td><emu-xref href="#realm-record"><a href="https://tc39.github.io/ecma262/#realm-record">Realm Record</a></emu-xref></td><td>The <emu-xref href="#realm"><a href="https://tc39.github.io/ecma262/#realm">realm</a></emu-xref> in which the function was created and which provides any intrinsic objects that are accessed when evaluating the function.</td></tr>
      <tr><td>[[ScriptOrModule]]</td><td><emu-xref href="#script-record"><a href="https://tc39.github.io/ecma262/#script-record">Script Record</a></emu-xref> or <emu-xref href="#sec-abstract-module-records"><a href="https://tc39.github.io/ecma262/#sec-abstract-module-records">Module Record</a></emu-xref></td><td>The script or module in which the function was created.</td></tr>
      <tr><td>[[ThisMode]]</td><td>(lexical, strict, global)</td><td>Defines how <code>this</code> references are interpreted within the formal parameters and code body of the function. <emu-const>lexical</emu-const> means that <code>this</code> refers to the <emu-val>this</emu-val> value of a lexically enclosing function. <emu-const>strict</emu-const> means that the <emu-val>this</emu-val> value is used exactly as provided by an invocation of the function. <emu-const>global</emu-const> means that a <emu-val>this</emu-val> value of <emu-val>undefined</emu-val> is interpreted as a reference to the <emu-xref href="#global-object"><a href="https://tc39.github.io/ecma262/#global-object">global object</a></emu-xref>.</td></tr>
      <tr><td>[[Strict]]</td><td>Boolean</td><td><emu-val>true</emu-val> if this is a strict mode function, <emu-val>false</emu-val> if this is not a strict mode function.</td></tr>
      <tr><td>[[HomeObject]]</td><td>Object</td><td>If the function uses <code>super</code>, this is the object whose [[GetPrototypeOf]] provides the object where <code>super</code> property lookups begin.</td></tr>
      <tr class="ins">
        <td><ins>[[SourceText]]</ins></td>
        <td><ins>String</ins></td>
        <td><ins>The  <emu-xref href="#sec-source-text"><a href="https://tc39.github.io/ecma262/#sec-source-text">source text</a></emu-xref> that defines the function.</ins></td>
      </tr>
      </tbody>
    </table>
  </figure></emu-table>
  <p>All ECMAScript function objects have the [[Call]] internal method defined here. ECMAScript functions that are also constructors in addition have the [[Construct]] internal method.</p>
</emu-clause>


<!-- 14.1.19 -->
<emu-clause id="sec-function-definitions-runtime-semantics-instantiatefunctionobject">
  <h1><span class="secnum">3</span>(<a href="http://tc39.github.io/ecma262/#sec-function-definitions-runtime-semantics-instantiatefunctionobject">14.1.19</a>) Runtime Semantics: InstantiateFunctionObject<span class="utils"><span class="anchor"><a href="#sec-function-definitions-runtime-semantics-instantiatefunctionobject">#</a></span></span></h1>
  <p>With parameter <var>scope</var>.</p>
  <emu-see-also-para op="InstantiateFunctionObject"></emu-see-also-para>
  <emu-grammar><emu-production name="FunctionDeclaration" collapsed="" id="prod-FunctionDeclaration">
    <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="81739a57"><emu-t>function</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>name</var> be StringValue of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt>.</li><li>Let <var>F</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Perform <emu-xref aoid="MakeConstructor"><a href="https://tc39.github.io/ecma262/#sec-makeconstructor">MakeConstructor</a></emu-xref>(<var>F</var>).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>F</var>, <var>name</var>).</li><li><ins>Set <var>F</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt>.</ins></li><li>Return <var>F</var>.
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="FunctionDeclaration" collapsed="">
    <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="b26bacea"><emu-t>function</emu-t><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>F</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Perform <emu-xref aoid="MakeConstructor"><a href="https://tc39.github.io/ecma262/#sec-makeconstructor">MakeConstructor</a></emu-xref>(<var>F</var>).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>F</var>, <code>"default"</code>).</li><li><ins>Set <var>F</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt>.</ins></li><li>Return <var>F</var>.
  </li></ol></emu-alg>
  <emu-note><span class="note">Note</span>
    <p>An anonymous <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt> can only occur as part of an <code>export default</code> declaration.</p>
  </emu-note>
</emu-clause>


<!-- 14.1.20 -->
<emu-clause id="sec-function-definitions-runtime-semantics-evaluation">
  <h1><span class="secnum">4</span>(<a href="http://tc39.github.io/ecma262/#sec-function-definitions-runtime-semantics-evaluation">14.1.20</a>) Runtime Semantics: Evaluation<span class="utils"><span class="anchor"><a href="#sec-function-definitions-runtime-semantics-evaluation">#</a></span></span></h1>
  <emu-grammar><emu-production name="FunctionDeclaration" collapsed="">
    <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="81739a57"><emu-t>function</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Return <emu-xref aoid="NormalCompletion"><a href="https://tc39.github.io/ecma262/#sec-normalcompletion">NormalCompletion</a></emu-xref>(<emu-const>empty</emu-const>).
  </li></ol></emu-alg>
  <emu-note><span class="note">Note 1</span>
    <p>An alternative semantics is provided in  <emu-xref href="#sec-block-level-function-declarations-web-legacy-compatibility-semantics"><a href="https://tc39.github.io/ecma262/#sec-block-level-function-declarations-web-legacy-compatibility-semantics">B.3.3</a></emu-xref>.</p>
  </emu-note>
  <emu-grammar><emu-production name="FunctionDeclaration" collapsed="">
    <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="b26bacea"><emu-t>function</emu-t><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Return <emu-xref aoid="NormalCompletion"><a href="https://tc39.github.io/ecma262/#sec-normalcompletion">NormalCompletion</a></emu-xref>(<emu-const>empty</emu-const>).
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="FunctionExpression" collapsed="" id="prod-FunctionExpression">
    <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="b26bacea"><emu-t>function</emu-t><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the LexicalEnvironment of the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>.</li><li>Let <var>closure</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Perform <emu-xref aoid="MakeConstructor"><a href="https://tc39.github.io/ecma262/#sec-makeconstructor">MakeConstructor</a></emu-xref>(<var>closure</var>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt>.</ins></li><li>Return <var>closure</var>.
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="FunctionExpression" collapsed="">
    <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="81739a57"><emu-t>function</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Let <var>funcEnv</var> be <emu-xref aoid="NewDeclarativeEnvironment"><a href="https://tc39.github.io/ecma262/#sec-newdeclarativeenvironment">NewDeclarativeEnvironment</a></emu-xref>(<var>scope</var>).</li><li>Let <var>envRec</var> be <var>funcEnv</var>'s <emu-xref href="#sec-lexical-environments"><a href="https://tc39.github.io/ecma262/#sec-lexical-environments">EnvironmentRecord</a></emu-xref>.</li><li>Let <var>name</var> be StringValue of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt>.</li><li>Perform <var>envRec</var>.CreateImmutableBinding(<var>name</var>, <emu-val>false</emu-val>).</li><li>Let <var>closure</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>, <var>funcEnv</var>, <var>strict</var>).</li><li>Perform <emu-xref aoid="MakeConstructor"><a href="https://tc39.github.io/ecma262/#sec-makeconstructor">MakeConstructor</a></emu-xref>(<var>closure</var>).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>closure</var>, <var>name</var>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt>.</ins></li><li>Perform <var>envRec</var>.InitializeBinding(<var>name</var>, <var>closure</var>).</li><li>Return <var>closure</var>.
  </li></ol></emu-alg>
  <emu-note><span class="note">Note 2</span>
    <p>The <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt> in a <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt> can be referenced from inside the <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt>'s <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt> to allow the function to call itself recursively. However, unlike in a <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt>, the <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt> in a <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt> cannot be referenced from and does not affect the scope enclosing the <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt>.</p>
  </emu-note>
  <emu-note><span class="note">Note 3</span>
    <p>A <code>prototype</code> property is automatically created for every function defined using a <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt> or <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt>, to allow for the possibility that the function will be used as a constructor.</p>
  </emu-note>
  <emu-grammar><emu-production name="FunctionStatementList" collapsed="" id="prod-FunctionStatementList">
    <emu-nt><a href="#prod-FunctionStatementList">FunctionStatementList</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="37b9c04c"><emu-gann>[empty]</emu-gann></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Return <emu-xref aoid="NormalCompletion"><a href="https://tc39.github.io/ecma262/#sec-normalcompletion">NormalCompletion</a></emu-xref>(<emu-val>undefined</emu-val>).
  </li></ol></emu-alg>
</emu-clause>


<!-- 14.2.16 -->
<emu-clause id="sec-arrow-function-definitions-runtime-semantics-evaluation">
  <h1><span class="secnum">5</span>(<a href="http://tc39.github.io/ecma262/#sec-arrow-function-definitions-runtime-semantics-evaluation">14.2.16</a>) Runtime Semantics: Evaluation<span class="utils"><span class="anchor"><a href="#sec-arrow-function-definitions-runtime-semantics-evaluation">#</a></span></span></h1>
  <emu-grammar><emu-production name="ArrowFunction" collapsed="" id="prod-ArrowFunction">
    <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="88410e0f"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ArrowParameters">ArrowParameters</a></emu-nt><emu-t>=&gt;</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ConciseBody">ConciseBody</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for this <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the LexicalEnvironment of the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>.</li><li>Let <var>parameters</var> be CoveredFormalsList of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-ArrowParameters">ArrowParameters</a></emu-nt>.</li><li>Let <var>closure</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<emu-const>Arrow</emu-const>, <var>parameters</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-ConciseBody">ConciseBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt>.</ins></li><li>Return <var>closure</var>.
  </li></ol></emu-alg>
  <emu-note><span class="note">Note</span>
    <p>An <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt> does not define local bindings for <code>arguments</code>, <code>super</code>, <code>this</code>, or <code>new.target</code>. Any reference to <code>arguments</code>, <code>super</code>, <code>this</code>, or <code>new.target</code> within an <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt> must resolve to a binding in a lexically enclosing environment. Typically this will be the Function Environment of an immediately enclosing function. Even though an <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt> may contain references to <code>super</code>, the function object created in step 4 is not made into a method by performing <emu-xref aoid="MakeMethod"><a href="https://tc39.github.io/ecma262/#sec-makemethod">MakeMethod</a></emu-xref>. An <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt> that references <code>super</code> is always contained within a non-<emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt> and the necessary state to implement <code>super</code> is accessible via the <var>scope</var> that is captured by the function object of the <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt>.</p>
  </emu-note>
</emu-clause>


<!-- 14.3.8 -->
<emu-clause id="sec-runtime-semantics-definemethod">
  <h1><span class="secnum">6</span>(<a href="http://tc39.github.io/ecma262/#sec-runtime-semantics-definemethod">14.3.8</a>) Runtime Semantics: DefineMethod<span class="utils"><span class="anchor"><a href="#sec-runtime-semantics-definemethod">#</a></span></span></h1>
  <p>With parameters <var>object</var> and optional parameter <var>functionPrototype</var>.</p>
  <emu-grammar><emu-production name="MethodDefinition" collapsed="" id="prod-MethodDefinition">
    <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="127f1e91"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-StrictFormalParameters">StrictFormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Let <var>propKey</var> be the result of evaluating <emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>propKey</var>).</li><li>If the function code for this <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>If <var>functionPrototype</var> was passed as a parameter, let <var>kind</var> be <emu-const>Normal</emu-const>; otherwise let <var>kind</var> be <emu-const>Method</emu-const>.</li><li>Let <var>closure</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<var>kind</var>, <emu-nt><a href="#prod-StrictFormalParameters">StrictFormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>, <var>scope</var>, <var>strict</var>). If <var>functionPrototype</var> was passed as a parameter, then pass its value as the <var>prototype</var> optional argument of <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>.</li><li>Perform <emu-xref aoid="MakeMethod"><a href="https://tc39.github.io/ecma262/#sec-makemethod">MakeMethod</a></emu-xref>(<var>closure</var>, <var>object</var>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt>.</ins></li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>{[[Key]]: <var>propKey</var>, [[Closure]]: <var>closure</var>}.
  </li></ol></emu-alg>
</emu-clause>


<!-- 14.3.9 -->
<emu-clause id="sec-method-definitions-runtime-semantics-propertydefinitionevaluation">
  <h1><span class="secnum">7</span>(<a href="http://tc39.github.io/ecma262/#sec-method-definitions-runtime-semantics-propertydefinitionevaluation">14.3.9</a>) Runtime Semantics: PropertyDefinitionEvaluation<span class="utils"><span class="anchor"><a href="#sec-method-definitions-runtime-semantics-propertydefinitionevaluation">#</a></span></span></h1>
  <p>With parameters <var>object</var> and <var>enumerable</var>.</p>
  <emu-see-also-para op="PropertyDefinitionEvaluation"></emu-see-also-para>
  <emu-grammar><emu-production name="MethodDefinition" collapsed="">
    <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="127f1e91"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-StrictFormalParameters">StrictFormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Let <var>methodDef</var> be DefineMethod of <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt> with argument <var>object</var>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>methodDef</var>).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>methodDef</var>.[[Closure]], <var>methodDef</var>.[[Key]]).</li><li>Let <var>desc</var> be the PropertyDescriptor{[[Value]]: <var>methodDef</var>.[[Closure]], [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <var>enumerable</var>, [[Configurable]]: <emu-val>true</emu-val>}.</li><li>Return ? <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>object</var>, <var>methodDef</var>.[[Key]], <var>desc</var>).
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="MethodDefinition" collapsed="">
    <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="52fe7349"><emu-nt><a href="#prod-GeneratorMethod">GeneratorMethod</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
  <p>See  <emu-xref href="#sec-generator-function-definitions"><a href="https://tc39.github.io/ecma262/#sec-generator-function-definitions">14.4</a></emu-xref>.</p>
  <emu-grammar><emu-production name="MethodDefinition" collapsed="">
    <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="f1487956"><emu-t>get</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt><emu-t>(</emu-t><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Let <var>propKey</var> be the result of evaluating <emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>propKey</var>).</li><li>If the function code for this <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Let <var>formalParameterList</var> be the production <emu-grammar><emu-production name="FormalParameters" collapsed="" id="prod-FormalParameters" class=" inline">
    <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="37b9c04c"><emu-gann>[empty]</emu-gann></emu-rhs>
</emu-production></emu-grammar>.</li><li>Let <var>closure</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<emu-const>Method</emu-const>, <var>formalParameterList</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Perform <emu-xref aoid="MakeMethod"><a href="https://tc39.github.io/ecma262/#sec-makemethod">MakeMethod</a></emu-xref>(<var>closure</var>, <var>object</var>).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>closure</var>, <var>propKey</var>, <code>"get"</code>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt>.</ins></li><li>Let <var>desc</var> be the PropertyDescriptor{[[Get]]: <var>closure</var>, [[Enumerable]]: <var>enumerable</var>, [[Configurable]]: <emu-val>true</emu-val>}.</li><li>Return ? <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>object</var>, <var>propKey</var>, <var>desc</var>).
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="MethodDefinition" collapsed="">
    <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="4402354c"><emu-t>set</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertySetParameterList">PropertySetParameterList</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Let <var>propKey</var> be the result of evaluating <emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>propKey</var>).</li><li>If the function code for this <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Let <var>closure</var> be <emu-xref aoid="FunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-functioncreate">FunctionCreate</a></emu-xref>(<emu-const>Method</emu-const>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertySetParameterList">PropertySetParameterList</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Perform <emu-xref aoid="MakeMethod"><a href="https://tc39.github.io/ecma262/#sec-makemethod">MakeMethod</a></emu-xref>(<var>closure</var>, <var>object</var>).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>closure</var>, <var>propKey</var>, <code>"set"</code>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt>.</ins></li><li>Let <var>desc</var> be the PropertyDescriptor{[[Set]]: <var>closure</var>, [[Enumerable]]: <var>enumerable</var>, [[Configurable]]: <emu-val>true</emu-val>}.</li><li>Return ? <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>object</var>, <var>propKey</var>, <var>desc</var>).
  </li></ol></emu-alg>
</emu-clause>


<!-- 14.4.12 -->
<emu-clause id="sec-generator-function-definitions-runtime-semantics-instantiatefunctionobject">
  <h1><span class="secnum">8</span>(<a href="http://tc39.github.io/ecma262/#sec-generator-function-definitions-runtime-semantics-instantiatefunctionobject">14.4.12</a>) Runtime Semantics: InstantiateFunctionObject<span class="utils"><span class="anchor"><a href="#sec-generator-function-definitions-runtime-semantics-instantiatefunctionobject">#</a></span></span></h1>
  <p>With parameter <var>scope</var>.</p>
  <emu-see-also-para op="InstantiateFunctionObject"></emu-see-also-para>
  <emu-grammar><emu-production name="GeneratorDeclaration" collapsed="" id="prod-GeneratorDeclaration">
    <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="7dbc99b6"><emu-t>function</emu-t><emu-t>*</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>name</var> be StringValue of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt>.</li><li>Let <var>F</var> be <emu-xref aoid="GeneratorFunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-generatorfunctioncreate">GeneratorFunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Let <var>prototype</var> be <emu-xref aoid="ObjectCreate"><a href="https://tc39.github.io/ecma262/#sec-objectcreate">ObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-generator-prototype"><a href="https://tc39.github.io/ecma262/#sec-properties-of-generator-prototype">%GeneratorPrototype%</a></emu-xref>).</li><li>Perform <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>F</var>, <code>"prototype"</code>, PropertyDescriptor{[[Value]]: <var>prototype</var>, [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val>}).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>F</var>, <var>name</var>).</li><li><ins>Set <var>F</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt>.</ins></li><li>Return <var>F</var>.
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="GeneratorDeclaration" collapsed="">
    <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="0d271960"><emu-t>function</emu-t><emu-t>*</emu-t><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>F</var> be <emu-xref aoid="GeneratorFunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-generatorfunctioncreate">GeneratorFunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Let <var>prototype</var> be <emu-xref aoid="ObjectCreate"><a href="https://tc39.github.io/ecma262/#sec-objectcreate">ObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-generator-prototype"><a href="https://tc39.github.io/ecma262/#sec-properties-of-generator-prototype">%GeneratorPrototype%</a></emu-xref>).</li><li>Perform <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>F</var>, <code>"prototype"</code>, PropertyDescriptor{[[Value]]: <var>prototype</var>, [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val>}).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>F</var>, <code>"default"</code>).</li><li><ins>Set <var>F</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt>.</ins></li><li>Return <var>F</var>.
  </li></ol></emu-alg>
  <emu-note><span class="note">Note</span>
    <p>An anonymous <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt> can only occur as part of an <code>export default</code> declaration.</p>
  </emu-note>
</emu-clause>


<!-- 14.4.13 -->
<emu-clause id="sec-generator-function-definitions-runtime-semantics-propertydefinitionevaluation">
  <h1><span class="secnum">9</span>(<a href="http://tc39.github.io/ecma262/#sec-generator-function-definitions-runtime-semantics-propertydefinitionevaluation">14.4.13</a>) Runtime Semantics: PropertyDefinitionEvaluation<span class="utils"><span class="anchor"><a href="#sec-generator-function-definitions-runtime-semantics-propertydefinitionevaluation">#</a></span></span></h1>
  <p>With parameter <var>object</var> and <var>enumerable</var>.</p>
  <emu-see-also-para op="PropertyDefinitionEvaluation"></emu-see-also-para>
  <emu-grammar><emu-production name="GeneratorMethod" collapsed="" id="prod-GeneratorMethod">
    <emu-nt><a href="#prod-GeneratorMethod">GeneratorMethod</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="3977072d"><emu-t>*</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-StrictFormalParameters">StrictFormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Let <var>propKey</var> be the result of evaluating <emu-nt><a href="https://tc39.github.io/ecma262/#prod-PropertyName">PropertyName</a></emu-nt>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>propKey</var>).</li><li>If the function code for this <emu-nt><a href="#prod-GeneratorMethod">GeneratorMethod</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Let <var>closure</var> be <emu-xref aoid="GeneratorFunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-generatorfunctioncreate">GeneratorFunctionCreate</a></emu-xref>(<emu-const>Method</emu-const>, <emu-nt><a href="#prod-StrictFormalParameters">StrictFormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Perform <emu-xref aoid="MakeMethod"><a href="https://tc39.github.io/ecma262/#sec-makemethod">MakeMethod</a></emu-xref>(<var>closure</var>, <var>object</var>).</li><li>Let <var>prototype</var> be <emu-xref aoid="ObjectCreate"><a href="https://tc39.github.io/ecma262/#sec-objectcreate">ObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-generator-prototype"><a href="https://tc39.github.io/ecma262/#sec-properties-of-generator-prototype">%GeneratorPrototype%</a></emu-xref>).</li><li>Perform <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>closure</var>, <code>"prototype"</code>, PropertyDescriptor{[[Value]]: <var>prototype</var>, [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val>}).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>closure</var>, <var>propKey</var>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-GeneratorMethod">GeneratorMethod</a></emu-nt>.</ins></li><li>Let <var>desc</var> be the PropertyDescriptor{[[Value]]: <var>closure</var>, [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <var>enumerable</var>, [[Configurable]]: <emu-val>true</emu-val>}.</li><li>Return ? <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>object</var>, <var>propKey</var>, <var>desc</var>).
  </li></ol></emu-alg>
</emu-clause>


<!-- 14.4.14 -->
<emu-clause id="sec-generator-function-definitions-runtime-semantics-evaluation">
  <h1><span class="secnum">10</span>(<a href="http://tc39.github.io/ecma262/#sec-generator-function-definitions-runtime-semantics-evaluation">14.4.14</a>) Runtime Semantics: Evaluation<span class="utils"><span class="anchor"><a href="#sec-generator-function-definitions-runtime-semantics-evaluation">#</a></span></span></h1>
  <emu-grammar><emu-production name="GeneratorExpression" collapsed="" id="prod-GeneratorExpression">
    <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="0d271960"><emu-t>function</emu-t><emu-t>*</emu-t><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for this <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the LexicalEnvironment of the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>.</li><li>Let <var>closure</var> be <emu-xref aoid="GeneratorFunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-generatorfunctioncreate">GeneratorFunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt>, <var>scope</var>, <var>strict</var>).</li><li>Let <var>prototype</var> be <emu-xref aoid="ObjectCreate"><a href="https://tc39.github.io/ecma262/#sec-objectcreate">ObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-generator-prototype"><a href="https://tc39.github.io/ecma262/#sec-properties-of-generator-prototype">%GeneratorPrototype%</a></emu-xref>).</li><li>Perform <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>closure</var>, <code>"prototype"</code>, PropertyDescriptor{[[Value]]: <var>prototype</var>, [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val>}).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt>.</ins></li><li>Return <var>closure</var>.
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="GeneratorExpression" collapsed="">
    <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="7dbc99b6"><emu-t>function</emu-t><emu-t>*</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If the function code for this <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, let <var>strict</var> be <emu-val>true</emu-val>. Otherwise let <var>strict</var> be <emu-val>false</emu-val>.</li><li>Let <var>scope</var> be the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Let <var>funcEnv</var> be <emu-xref aoid="NewDeclarativeEnvironment"><a href="https://tc39.github.io/ecma262/#sec-newdeclarativeenvironment">NewDeclarativeEnvironment</a></emu-xref>(<var>scope</var>).</li><li>Let <var>envRec</var> be <var>funcEnv</var>'s <emu-xref href="#sec-lexical-environments"><a href="https://tc39.github.io/ecma262/#sec-lexical-environments">EnvironmentRecord</a></emu-xref>.</li><li>Let <var>name</var> be StringValue of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt>.</li><li>Perform <var>envRec</var>.CreateImmutableBinding(<var>name</var>, <emu-val>false</emu-val>).</li><li>Let <var>closure</var> be <emu-xref aoid="GeneratorFunctionCreate"><a href="https://tc39.github.io/ecma262/#sec-generatorfunctioncreate">GeneratorFunctionCreate</a></emu-xref>(<emu-const>Normal</emu-const>, <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt>, <var>funcEnv</var>, <var>strict</var>).</li><li>Let <var>prototype</var> be <emu-xref aoid="ObjectCreate"><a href="https://tc39.github.io/ecma262/#sec-objectcreate">ObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-generator-prototype"><a href="https://tc39.github.io/ecma262/#sec-properties-of-generator-prototype">%GeneratorPrototype%</a></emu-xref>).</li><li>Perform <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>closure</var>, <code>"prototype"</code>, PropertyDescriptor{[[Value]]: <var>prototype</var>, [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val>}).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>closure</var>, <var>name</var>).</li><li>Perform <var>envRec</var>.InitializeBinding(<var>name</var>, <var>closure</var>).</li><li><ins>Set <var>closure</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt>.</ins></li><li>Return <var>closure</var>.
  </li></ol></emu-alg>
  <emu-note><span class="note">Note</span>
    <p>The <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt> in a <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt> can be referenced from inside the <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt>'s <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt> to allow the generator code to call itself recursively. However, unlike in a <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt>, the <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt> in a <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt> cannot be referenced from and does not affect the scope enclosing the <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt>.</p>
  </emu-note>
</emu-clause>


<!-- 14.5.15 -->
<emu-clause id="sec-runtime-semantics-bindingclassdeclarationevaluation">
  <h1><span class="secnum">11</span>(<a href="http://tc39.github.io/ecma262/#sec-runtime-semantics-bindingclassdeclarationevaluation">14.5.15</a>) Runtime Semantics: BindingClassDeclarationEvaluation<span class="utils"><span class="anchor"><a href="#sec-runtime-semantics-bindingclassdeclarationevaluation">#</a></span></span></h1>
  <emu-grammar><emu-production name="ClassDeclaration" collapsed="" id="prod-ClassDeclaration">
    <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="4ee4ae5a"><emu-t>class</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Let <var>className</var> be StringValue of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt>.</li><li>Let <var>value</var> be the result of ClassDefinitionEvaluation of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt> with argument <var>className</var>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>value</var>).</li><li>Let <var>hasNameProperty</var> be ? <emu-xref aoid="HasOwnProperty"><a href="https://tc39.github.io/ecma262/#sec-hasownproperty">HasOwnProperty</a></emu-xref>(<var>value</var>, <code>"name"</code>).</li><li>If <var>hasNameProperty</var> is <emu-val>false</emu-val>, perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>value</var>, <var>className</var>).</li><li><ins>Set <var>value</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt>.</ins></li><li>Let <var>env</var> be the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Perform ? <emu-xref aoid="InitializeBoundName"><a href="https://tc39.github.io/ecma262/#sec-initializeboundname">InitializeBoundName</a></emu-xref>(<var>className</var>, <var>value</var>, <var>env</var>).</li><li>Return <var>value</var>.
  </li></ol></emu-alg>
  <emu-grammar><emu-production name="ClassDeclaration" collapsed="">
    <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d461f28b"><emu-t>class</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li><del>Return</del><ins>Let <var>value</var> be</ins> the result of ClassDefinitionEvaluation of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt> with argument <emu-val>undefined</emu-val>.</li><li><ins>Set <var>value</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt>.</ins></li><li><ins>Return <var>value</var>.</ins>
  </li></ol></emu-alg>
  <emu-note><span class="note">Note</span>
    <p><emu-grammar><emu-production name="ClassDeclaration" collapsed="" class=" inline">
    <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d461f28b"><emu-t>class</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt></emu-rhs>
</emu-production></emu-grammar> only occurs as part of an <emu-nt><a href="https://tc39.github.io/ecma262/#prod-ExportDeclaration">ExportDeclaration</a></emu-nt> and the setting of a name property and establishing its binding are handled as part of the evaluation action for that production. See  <emu-xref href="#sec-exports-runtime-semantics-evaluation"><a href="https://tc39.github.io/ecma262/#sec-exports-runtime-semantics-evaluation">15.2.3.11</a></emu-xref>.</p>
  </emu-note>
</emu-clause>

<!-- 14.5.16 -->
<emu-clause id="sec-class-definitions-runtime-semantics-evaluation">
  <h1><span class="secnum">12</span>(<a href="http://tc39.github.io/ecma262/#sec-class-definitions-runtime-semantics-evaluation">14.5.16</a>) Runtime Semantics: Evaluation<span class="utils"><span class="anchor"><a href="#sec-class-definitions-runtime-semantics-evaluation">#</a></span></span></h1>
  <emu-grammar><emu-production name="ClassDeclaration" collapsed="">
    <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="4ee4ae5a"><emu-t>class</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>Let <var>status</var> be the result of BindingClassDeclarationEvaluation of this <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>status</var>).</li><li>Return <emu-xref aoid="NormalCompletion"><a href="https://tc39.github.io/ecma262/#sec-normalcompletion">NormalCompletion</a></emu-xref>(<emu-const>empty</emu-const>).
  </li></ol></emu-alg>
  <emu-note><span class="note">Note 1</span>
    <p><emu-grammar><emu-production name="ClassDeclaration" collapsed="" class=" inline">
    <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d461f28b"><emu-t>class</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt></emu-rhs>
</emu-production></emu-grammar> only occurs as part of an <emu-nt><a href="https://tc39.github.io/ecma262/#prod-ExportDeclaration">ExportDeclaration</a></emu-nt> and is never directly evaluated.</p>
  </emu-note>
  <emu-grammar><emu-production name="ClassExpression" collapsed="" id="prod-ClassExpression">
    <emu-nt><a href="#prod-ClassExpression">ClassExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d022e28b"><emu-t>class</emu-t><emu-nt optional=""><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
  <emu-alg><ol><li>If <emu-nt optional=""><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt> is not present, let <var>className</var> be <emu-val>undefined</emu-val>.</li><li>Else, let <var>className</var> be StringValue of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-BindingIdentifier">BindingIdentifier</a></emu-nt>.</li><li>Let <var>value</var> be the result of ClassDefinitionEvaluation of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassTail">ClassTail</a></emu-nt> with argument <var>className</var>.</li><li><emu-xref aoid="ReturnIfAbrupt"><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a></emu-xref>(<var>value</var>).</li><li>If <var>className</var> is not <emu-val>undefined</emu-val>, then<ol><li>Let <var>hasNameProperty</var> be ? <emu-xref aoid="HasOwnProperty"><a href="https://tc39.github.io/ecma262/#sec-hasownproperty">HasOwnProperty</a></emu-xref>(<var>value</var>, <code>"name"</code>).</li><li>If <var>hasNameProperty</var> is <emu-val>false</emu-val>, then<ol><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>value</var>, <var>className</var>).</li></ol></li></ol></li><li><ins>Set <var>value</var>.[[SourceText]] to the <emu-xref href="#sec-algorithm-conventions"><a href="#sec-algorithm-conventions">source text matched by</a></emu-xref> <emu-nt><a href="#prod-ClassExpression">ClassExpression</a></emu-nt>.</ins></li><li>Return <emu-xref aoid="NormalCompletion"><a href="https://tc39.github.io/ecma262/#sec-normalcompletion">NormalCompletion</a></emu-xref>(<var>value</var>).
  </li></ol></emu-alg>
  <emu-note><span class="note">Note 2</span>
    <p>If the class definition included a <code>name</code> static method then that method is not over-written with a <code>name</code> data property for the class name.</p>
  </emu-note>
</emu-clause>


<!-- 19.2.1.1.1 -->
<emu-clause id="sec-createdynamicfunction" aoid="CreateDynamicFunction">
  <h1><span class="secnum">13</span>(<a href="http://tc39.github.io/ecma262/#sec-createdynamicfunction">19.2.1.1.1</a>) Runtime Semantics: CreateDynamicFunction(<var>constructor</var>, <var>newTarget</var>, <var>kind</var>, <var>args</var>)<span class="utils"><span class="anchor"><a href="#sec-createdynamicfunction">#</a></span></span></h1>
  <p>The abstract operation CreateDynamicFunction is called with arguments <var>constructor</var>, <var>newTarget</var>, <var>kind</var>, and <var>args</var>. <var>constructor</var> is the constructor function that is performing this action, <var>newTarget</var> is the constructor that <code>new</code> was initially applied to, <var>kind</var> is either <code>"normal"</code> or <code>"generator"</code>, and <var>args</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> containing the actual argument values that were passed to <var>constructor</var>. The following steps are taken:</p>
  <emu-alg><ol><li>If <var>newTarget</var> is <emu-val>undefined</emu-val>, let <var>newTarget</var> be <var>constructor</var>.</li><li>If <var>kind</var> is <code>"normal"</code>, then<ol><li>Let <var>goal</var> be the grammar symbol <emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionBody">FunctionBody</a></emu-nt>.</li><li>Let <var>parameterGoal</var> be the grammar symbol <emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt>.</li><li>Let <var>fallbackProto</var> be <code>"%FunctionPrototype%"</code>.</li></ol></li><li>Else,<ol><li>Let <var>goal</var> be the grammar symbol <emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorBody">GeneratorBody</a></emu-nt>.</li><li>Let <var>parameterGoal</var> be the grammar symbol <emu-nt params="Yield"><a href="#prod-FormalParameters">FormalParameters</a><emu-mods><emu-params>[Yield]</emu-params></emu-mods></emu-nt>.</li><li>Let <var>fallbackProto</var> be <code>"%Generator%"</code>.</li></ol></li><li>Let <var>argCount</var> be the number of elements in <var>args</var>.</li><li>Let <var>P</var> be the empty String.</li><li>If <var>argCount</var> = 0, let <var>bodyText</var> be the empty String.</li><li>Else if <var>argCount</var> = 1, let <var>bodyText</var> be <var>args</var>[0].</li><li>Else <var>argCount</var> &gt; 1,<ol><li>Let <var>firstArg</var> be <var>args</var>[0].</li><li>Let <var>P</var> be ? <emu-xref aoid="ToString"><a href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>firstArg</var>).</li><li>Let <var>k</var> be 1.</li><li>Repeat, while <var>k</var> &lt; <var>argCount</var>-1<ol><li>Let <var>nextArg</var> be <var>args</var>[<var>k</var>].</li><li>Let <var>nextArgString</var> be ? <emu-xref aoid="ToString"><a href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>nextArg</var>).</li><li>Let <var>P</var> be the result of concatenating the previous value of <var>P</var>, the String <code>","</code> (a comma), and <var>nextArgString</var>.</li><li>Increase <var>k</var> by 1.</li></ol></li><li>Let <var>bodyText</var> be <var>args</var>[<var>k</var>].</li></ol></li><li>Let <var>bodyText</var> be ? <emu-xref aoid="ToString"><a href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>bodyText</var>).</li><li>Let <var>parameters</var> be the result of parsing <var>P</var>, interpreted as UTF-16 encoded Unicode text as described in <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>, using <var>parameterGoal</var> as the goal symbol. Throw a <emu-val>SyntaxError</emu-val> exception if the parse fails.</li><li>Let <var>body</var> be the result of parsing <var>bodyText</var>, interpreted as UTF-16 encoded Unicode text as described in <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>, using <var>goal</var> as the goal symbol. Throw a <emu-val>SyntaxError</emu-val> exception if the parse fails.</li><li>If <var>bodyText</var> is <emu-xref href="#sec-strict-mode-code"><a href="https://tc39.github.io/ecma262/#sec-strict-mode-code">strict mode code</a></emu-xref>, then let <var>strict</var> be <emu-val>true</emu-val>, else let <var>strict</var> be <emu-val>false</emu-val>.</li><li>If any static semantics errors are detected for <var>parameters</var> or <var>body</var>, throw a <emu-val>SyntaxError</emu-val> or a <emu-val>ReferenceError</emu-val> exception, depending on the type of the error. If <var>strict</var> is <emu-val>true</emu-val>, the Early Error rules for <emu-grammar><emu-production name="StrictFormalParameters" collapsed="" id="prod-StrictFormalParameters" class=" inline">
    <emu-nt><a href="#prod-StrictFormalParameters">StrictFormalParameters</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="0218c6f5"><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt></emu-rhs>
</emu-production></emu-grammar> are applied. Parsing and <emu-xref href="#early-error"><a href="https://tc39.github.io/ecma262/#early-error">early error</a></emu-xref> detection may be interweaved in an implementation dependent manner.</li><li>If ContainsUseStrict of <var>body</var> is <emu-val>true</emu-val> and IsSimpleParameterList of <var>parameters</var> is <emu-val>false</emu-val>, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If any element of the BoundNames of <var>parameters</var> also occurs in the LexicallyDeclaredNames of <var>body</var>, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If <var>body</var> Contains <emu-nt><a href="https://tc39.github.io/ecma262/#prod-SuperCall">SuperCall</a></emu-nt> is <emu-val>true</emu-val>, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If <var>parameters</var> Contains <emu-nt><a href="https://tc39.github.io/ecma262/#prod-SuperCall">SuperCall</a></emu-nt> is <emu-val>true</emu-val>, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If <var>body</var> Contains <emu-nt><a href="https://tc39.github.io/ecma262/#prod-SuperProperty">SuperProperty</a></emu-nt> is <emu-val>true</emu-val>, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If <var>parameters</var> Contains <emu-nt><a href="https://tc39.github.io/ecma262/#prod-SuperProperty">SuperProperty</a></emu-nt> is <emu-val>true</emu-val>, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If <var>kind</var> is <code>"generator"</code>, then<ol><li>If <var>parameters</var> Contains <emu-nt><a href="https://tc39.github.io/ecma262/#prod-YieldExpression">YieldExpression</a></emu-nt> is <emu-val>true</emu-val>, throw a <emu-val>SyntaxError</emu-val> exception.</li></ol></li><li>If <var>strict</var> is <emu-val>true</emu-val>, then<ol><li>If BoundNames of <var>parameters</var> contains any duplicate elements, throw a <emu-val>SyntaxError</emu-val> exception.</li></ol></li><li>Let <var>proto</var> be ? <emu-xref aoid="GetPrototypeFromConstructor"><a href="https://tc39.github.io/ecma262/#sec-getprototypefromconstructor">GetPrototypeFromConstructor</a></emu-xref>(<var>newTarget</var>, <var>fallbackProto</var>).</li><li>Let <var>F</var> be <emu-xref aoid="FunctionAllocate"><a href="https://tc39.github.io/ecma262/#sec-functionallocate">FunctionAllocate</a></emu-xref>(<var>proto</var>, <var>strict</var>, <var>kind</var>).</li><li>Let <var>realmF</var> be the value of <var>F</var>'s [[Realm]] internal slot.</li><li>Let <var>scope</var> be <var>realmF</var>.[[GlobalEnv]].</li><li>Perform <emu-xref aoid="FunctionInitialize"><a href="https://tc39.github.io/ecma262/#sec-functioninitialize">FunctionInitialize</a></emu-xref>(<var>F</var>, <emu-const>Normal</emu-const>, <var>parameters</var>, <var>body</var>, <var>scope</var>).</li><li>If <var>kind</var> is <code>"generator"</code>, then<ol><li>Let <var>prototype</var> be <emu-xref aoid="ObjectCreate"><a href="https://tc39.github.io/ecma262/#sec-objectcreate">ObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-generator-prototype"><a href="https://tc39.github.io/ecma262/#sec-properties-of-generator-prototype">%GeneratorPrototype%</a></emu-xref>).</li><li>Perform <emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>F</var>, <code>"prototype"</code>, PropertyDescriptor{[[Value]]: <var>prototype</var>, [[Writable]]: <emu-val>true</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val>}).</li></ol></li><li>Else, perform <emu-xref aoid="MakeConstructor"><a href="https://tc39.github.io/ecma262/#sec-makeconstructor">MakeConstructor</a></emu-xref>(<var>F</var>).</li><li>Perform <emu-xref aoid="SetFunctionName"><a href="https://tc39.github.io/ecma262/#sec-setfunctionname">SetFunctionName</a></emu-xref>(<var>F</var>, <code>"anonymous"</code>).</li><li><ins>If <var>kind</var> is <code>"generator"</code>, let <var>prefix</var> be <code>"function*"</code>. Otherwise, let <var>prefix</var> be <code>"function"</code>.</ins></li><li><ins>Let <var>sourceText</var> be the String value whose elements are, in order, the code units of <var>prefix</var>, the code units of <code>" anonymous("</code>, the code units of <var>P</var>, 0x000A (LINE FEED), the code units of <code>") {"</code>, 0x000A (LINE FEED), the code units of <var>bodyText</var>, 0x000A (LINE FEED), and the code units of <code>"}"</code>.</ins></li><li><ins>Set <var>F</var>.[[SourceText]] to <var>sourceText</var>.</ins></li><li>Return <var>F</var>.
  </li></ol></emu-alg>
  <emu-note><span class="note">Note</span>
    <p>A <code>prototype</code> property is automatically created for every function created using CreateDynamicFunction, to provide for the possibility that the function will be used as a constructor.</p>
  </emu-note>
</emu-clause>


<!-- 19.2.3.5 -->
<emu-clause id="sec-function.prototype.tostring">
  <h1><span class="secnum">14</span>(<a href="http://tc39.github.io/ecma262/#sec-function.prototype.tostring">19.2.3.5</a>) Function.prototype.toString()<span class="utils"><span class="anchor"><a href="#sec-function.prototype.tostring">#</a></span></span></h1>

  <p>When the <code>toString</code> method is called with an object <var>func</var> as its <emu-val>this</emu-val> value, the following steps are taken:</p>

  <del class="block">
    <emu-alg><ol><li>If <var>func</var> is a Bound Function exotic object, then<ol><li>Return an implementation-dependent String source code representation of <var>func</var>. The representation must conform to the rules below. It is implementation dependent whether the representation includes <emu-xref href="#sec-bound-function-exotic-objects"><a href="https://tc39.github.io/ecma262/#sec-bound-function-exotic-objects">bound function</a></emu-xref> information or information about the target function.</li></ol></li><li>If <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>func</var>) is Object and is either a built-in function object or has an [[ECMAScriptCode]] internal slot, then<ol><li>Return an implementation-dependent String source code representation of <var>func</var>. The representation must conform to the rules below.</li></ol></li><li>Throw a <emu-val>TypeError</emu-val> exception.
    </li></ol></emu-alg>
    <p><code>toString</code> Representation Requirements:</p>
    <ul>
      <li>The string representation must have the syntax of a <emu-nt><a href="#prod-FunctionDeclaration">FunctionDeclaration</a></emu-nt>, <emu-nt><a href="#prod-FunctionExpression">FunctionExpression</a></emu-nt>, <emu-nt><a href="#prod-GeneratorDeclaration">GeneratorDeclaration</a></emu-nt>, <emu-nt><a href="#prod-GeneratorExpression">GeneratorExpression</a></emu-nt>, <emu-nt><a href="#prod-ClassDeclaration">ClassDeclaration</a></emu-nt>, <emu-nt><a href="#prod-ClassExpression">ClassExpression</a></emu-nt>, <emu-nt><a href="#prod-ArrowFunction">ArrowFunction</a></emu-nt>, <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt>, or <emu-nt><a href="#prod-GeneratorMethod">GeneratorMethod</a></emu-nt> depending upon the actual characteristics of the object.
      
      </li><li>The use and placement of white space, line terminators, and semicolons within the representation String is implementation-dependent.
      
      </li><li>If the object was defined using ECMAScript code and the returned string representation is not in the form of a <emu-nt><a href="#prod-MethodDefinition">MethodDefinition</a></emu-nt> or <emu-nt><a href="#prod-GeneratorMethod">GeneratorMethod</a></emu-nt> then the representation must be such that if the string is evaluated, using <code>eval</code> in a lexical context that is equivalent to the lexical context used to create the original object, it will result in a new functionally equivalent object. In that case the returned source code must not mention freely any variables that were not mentioned freely by the original function's source code, even if these “extra” names were originally in scope.
      
      </li><li>If the implementation cannot produce a source code string that meets these criteria then it must return a string for which <code>eval</code> will throw a <emu-val>SyntaxError</emu-val> exception.
    
    </li></ul>
  </del>

  <ins class="block">
    <emu-alg><ol><li>If <var>func</var> is a <emu-xref href="#sec-bound-function-exotic-objects"><a href="https://tc39.github.io/ecma262/#sec-bound-function-exotic-objects">Bound Function exotic object</a></emu-xref> or a <emu-xref href="#sec-ecmascript-standard-built-in-objects"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-standard-built-in-objects">built-in Function object</a></emu-xref>, then return an implementation-dependent String source code representation of <var>func</var>. The representation must have the syntax of a <emu-nt><a href="#prod-NativeFunction">NativeFunction</a></emu-nt>. Additionally, if <var>func</var> is a <emu-xref href="#sec-well-known-intrinsic-objects"><a href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">Well-known Intrinsic Object</a></emu-xref>, the portion of the returned String that would be matched by <emu-nt><a href="https://tc39.github.io/ecma262/#prod-IdentifierName">IdentifierName</a></emu-nt> must be the initial value of the <emu-val>name</emu-val> property of <var>func</var>.</li><li>If <var>func</var> has a [[SourceText]] internal slot and <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>func</var>.[[SourceText]]) is String, then return <var>func</var>.[[SourceText]].</li><li>If <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>func</var>) is Object and <emu-xref aoid="IsCallable"><a href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a></emu-xref>(<var>func</var>) is <emu-val>true</emu-val>, then return an implementation-dependent String source code representation of <var>func</var>. The representation must have the syntax of a <emu-nt><a href="#prod-NativeFunction">NativeFunction</a></emu-nt>.</li><li>Throw a <emu-val>TypeError</emu-val> exception.
    </li></ol></emu-alg>

    <emu-grammar><emu-production name="NativeFunction" id="prod-NativeFunction">
    <emu-nt><a href="#prod-NativeFunction">NativeFunction</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="4317846e"><emu-t>function</emu-t><emu-nt optional=""><a href="https://tc39.github.io/ecma262/#prod-IdentifierName">IdentifierName</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt><emu-t>(</emu-t><emu-nt><a href="#prod-FormalParameters">FormalParameters</a></emu-nt><emu-t>)</emu-t><emu-t>{</emu-t><emu-t>[</emu-t><emu-t>native</emu-t><emu-t>code</emu-t><emu-t>]</emu-t><emu-t>}</emu-t></emu-rhs>
</emu-production></emu-grammar>
  </ins>
</emu-clause>


<!-- es6num="9.2.7.1" -->
<emu-clause id="sec-%throwtypeerror%">
  <h1><span class="secnum">15</span>(<a href="#sec-%throwtypeerror%">9.2.7.1</a>) %ThrowTypeError% ( )<span class="utils"><span class="anchor"><a href="#sec-%throwtypeerror%">#</a></span></span></h1>
  <p>The  <dfn>%ThrowTypeError%</dfn> intrinsic is a<del>n anonymous</del> built-in function object that is defined once for each <emu-xref href="#realm"><a href="https://tc39.github.io/ecma262/#realm">realm</a></emu-xref>. When %ThrowTypeError% is called it performs the following steps:</p>
  <emu-alg><ol><li>Throw a <emu-val>TypeError</emu-val> exception.
  </li></ol></emu-alg>
  <p>
    <ins>
      The value of the <code>name</code> property of %ThrowTypeError% is <code>"ThrowTypeError"</code>.
    
    </ins>
  </p>
  <p>The value of the [[Extensible]] internal slot of a %ThrowTypeError% function is <emu-val>false</emu-val>.</p>
  <p>The <code>length</code> property of a %ThrowTypeError% function has the attributes { [[Writable]]: <emu-val>false</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val> }.</p>
</emu-clause><emu-annex id="sec-copyright-and-software-license">
      <h1><span class="secnum">A</span>Copyright &amp; Software License<span class="utils"><span class="anchor"><a href="#sec-copyright-and-software-license">#</a></span></span></h1>
      
      <h2>Copyright Notice</h2>
      <p>© 2017 Michael Ficarra</p>

      <h2>Software License</h2>
      <p>All Software contained in this document ("Software") is protected by copyright and is being made available under the "BSD License", included below. This Software may be subject to third party rights (rights from parties other than Ecma International), including patent rights, and no licenses under such third party rights are granted under this license even if the third party concerned is a member of Ecma International. SEE THE ECMA CODE OF CONDUCT IN PATENT MATTERS AVAILABLE AT http://www.ecma-international.org/memento/codeofconduct.htm FOR INFORMATION REGARDING THE LICENSING OF PATENT CLAIMS THAT ARE REQUIRED TO IMPLEMENT ECMA INTERNATIONAL STANDARDS.</p>

<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>

<ol>
  <li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
  <li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
  <li>Neither the name of the authors nor Ecma International may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>

<p>THIS SOFTWARE IS PROVIDED BY THE ECMA INTERNATIONAL "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL ECMA INTERNATIONAL BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

    </emu-annex>
</body>